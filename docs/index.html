<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Paper Trail - Language Within Papers</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Cormorant+Garamond:ital,wght@0,300..700;1,300..700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- D3 v7 -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <link rel="stylesheet" href="main.css" />
</head>
<body>
<!-- üÜï Landing Page -->
  <div id="landing" class="landing">
    <!-- Minimal grid shadow background -->
    <div class="grid-shadow"></div>
    
    <section class="hero">
      <h1 class="serif-title">Paper Trail</h1>
      <p class="subtitle">Language Within the American Revolution (1770‚Äì1810)</p>
      <button id="btn-explore" class="btn-enter">Enter the Project</button>
      <div class="scroll-cue">‚Üì Scroll to learn more</div>
    </section>

    <section class="about">
      <div class="about-content">
        <div class="about-image-container">
          <img id="about-slideshow" src="" alt="Archive document" class="about-slideshow">
        </div>
        <div class="about-text">
          <h2>What is Paper Trail</h2>
          <p>
            Paper Trail explores hundreds of letters, pamphlets, petitions, and broadsides from 1770‚Äì1810 to trace how the language of war, politics, society, business, and religion evolved over time.
          </p>
        </div>
      </div>
    </section>

    <section class="howto">
      <img src="data/images/LandingPage_3.svg" alt="How to read illustration" class="howto-illustration">
      <h2>How to Read</h2>
      <p>
        Each tile represents one document. Color marks its topic, and its position follows the timeline from 1770 to 1810. Hover to preview, and click to view the full record.
      </p>
      <button id="btn-enter-from-howto" class="btn-enter" style="margin-top: 1.5rem;">Enter the Project</button>
    </section>
  </div>
  <!-- Global Tooltip -->
  <div id="tooltip" class="tip hidden"></div>

  <!-- üÜï Main view header with subtitle -->
  <header class="main-header">
    <button id="btn-back-to-landing" class="btn-back" aria-label="Back to landing page">‚Üê Back</button>
    <p class="main-subtitle">Tracing language across Revolutionary-era documents (1770‚Äì1810)</p>
    <span id="doc-count" class="doc-count">504 documents</span>
  </header>

  <main class="container">
    <!-- Left: Tiles -->
    <section class="mosaic-wrap">
      <div id="mosaic" class="grid"></div>
      <div id="empty" class="empty hidden">No results.</div>
    </section>

    <!-- Right: Panel (Topic/Legend) -->
    <aside class="panel right">
      <section>
        <h2>Filter by Topic</h2>
        <div id="topic-buttons" class="btn-row"></div>
      </section>

      <section>
        <h2>Filter by Time Period</h2>
        <div id="decade-buttons" class="btn-row"></div>
      </section>

      <section class="legend">
        <div class="legend-head">
          <h2 id="legend-title">Subcategories</h2>
        </div>
        <div id="canon-list" class="canon-list"></div>
      </section>
      <section class="data">
        <h2>Data</h2>
        <h2>
          <li><a href="https://huggingface.co/datasets/RevolutionCrossroads/si_us_revolutionary_era_collections" target="_blank" rel="noopener">Hugging Face</a></li>
          <li><a href="https://edan.si.edu/openaccess/apidocs/" target="_blank" rel="noopener">Smithsonian Open Access API</a></li>
        </h2>
        </section>
      
    </aside>
    

  </main>

  <!-- ‚ñº‚ñº‚ñº Detail Overlay (Full view that appears when a tile is clicked) ‚ñº‚ñº‚ñº -->
  <div id="detail-overlay" class="detail-overlay hidden" role="dialog" aria-modal="true" aria-label="Document detail">
    <div class="detail-card">
      <!-- üÜï Loading overlay layer (inside card) -->
      <div id="detail-loading" class="detail-loading hidden">
        <div class="loading-spinner"></div>
        <p>Loading document...</p>
      </div>
      <!-- Left: Image/Zoom -->
      <div class="detail-media">
        <div class="media-main">
          <div id="page-indicator" class="page-indicator">1 / 1</div>
          <div class="media-viewport" id="media-viewport">
            <img id="detail-image" alt="" />
          </div>
        </div>
        <!-- üÜï Thumbnail Gallery -->
        <div class="media-thumbnails" id="media-thumbnails"></div>
      </div>

      <!-- Right: Text -->
      <div class="detail-body">
        <div class="detail-topbar">
          <div class="detail-nav">
            <button id="detail-prev" class="btn-nav" aria-label="Previous document">‚Üê Previous</button>
            <button id="detail-next" class="btn-nav" aria-label="Next document">Next ‚Üí</button>
          </div>
          <button id="detail-close" class="btn-ghost" aria-label="Close">‚úï</button>
        </div>

        <h3 id="detail-title" class="detail-title">Untitled</h3>
        <div class="detail-meta" id="detail-year"></div>

        <!-- Field Sections -->
        <div class="detail-fields">
          <div id="detail-subject" class="field-section hidden">
            <h4>Subject</h4>
            <div id="detail-subject-content"></div>
          </div>

          <div id="detail-people" class="field-section hidden">
            <h4>Associated Person</h4>
            <div id="detail-people-content"></div>
          </div>

          <div id="detail-collection" class="field-section hidden">
            <h4>Source / Collection</h4>
            <div id="detail-collection-content"></div>
          </div>

          <!-- Identifiers / Rights / Transcription sections removed per user request (kept in JS guards) -->
        </div>
        <!-- Topics mix -->
        <div class="detail-bars">
          <h4>Topics mix</h4>
          <div id="detail-bars-wrap"></div>
        </div>

        <!-- Main Description -->
        <div id="detail-desc" class="detail-desc"></div>

      </div>
    </div>
  </div>
  <!-- ‚ñ≤‚ñ≤‚ñ≤ Detail Overlay ‚ñ≤‚ñ≤‚ñ≤ -->

  <script src="main.js"></script>
</body>
</html>
