<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Paper Trail - Language Within Papers</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- D3 v7 -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <link rel="stylesheet" href="main.css" />
</head>
<body>
<!-- üÜï Landing Page -->
  <div id="landing" class="landing">
    <section class="hero">
      <h1 class="title serif-title">Paper Trail</h1>
      <p class="subtitle">Language Within the American Revolution (1770‚Äì1810)</p>
      <button id="btn-explore" class="btn-enter">Enter the Project</button>
      <div class="scroll-cue">‚Üì Scroll to learn more</div>
    </section>

    <section class="about">
      <div class="about-content">
        <div class="about-image-container">
          <img id="about-slideshow" src="" alt="Archive document" class="about-slideshow">
        </div>
        <div class="about-text">
          <h2>What is Paper Trail</h2>
          <p>
            Paper Trail analyzes hundreds of documents from the Revolutionary period‚Äîletters, pamphlets, petitions, and broadsides‚Äîto observe how vocabularies of war, politics, society, business, and religion shifted over time.
          </p>
        </div>
      </div>
    </section>

    <section class="howto">
      <img src="data/images/LandingPage_3.svg" alt="How to read illustration" class="howto-illustration">
      <h2>How to Read</h2>
      <p>
        Each tile is a document. Color shows topic; 
        layout follows time (1770‚Äì1810). Hover to preview and click to open details.
      </p>
      <button id="btn-enter-from-howto" class="btn-enter" style="margin-top: 1.5rem;">Enter the Project</button>
    </section>
  </div>
  <!-- Í∏ÄÎ°úÎ≤å Ìà¥ÌåÅ -->
  <div id="tooltip" class="tip hidden"></div>

  <!-- üÜï Main view header with subtitle -->
  <header class="main-header">
    <button id="btn-back-to-landing" class="btn-back" aria-label="Back to landing page">‚Üê Back</button>
    <p class="main-subtitle">Tracing language across Revolutionary-era documents (1770‚Äì1810)</p>
    <button id="btn-random-toggle" class="btn-random">Random Order</button>
  </header>

  <main class="container">
    <!-- Ï¢å: Î™®ÏûêÏù¥ÌÅ¨ -->
    <section class="mosaic-wrap">
      <div id="mosaic" class="grid"></div>
      <div id="empty" class="empty hidden">No results.</div>
    </section>

    <!-- Ïö∞: Ìå®ÎÑê (ÌÜ†ÌîΩ/Î†àÏ†ÑÎìú) -->
    <aside class="panel right">
      <section>
        <h2>Filter by Topic</h2>
        <div id="topic-buttons" class="btn-row"></div>
      </section>

      <section>
        <h2>Filter by Time Period</h2>
        <div id="decade-buttons" class="btn-row"></div>
      </section>

      <section class="legend">
        <div class="legend-head">
          <h2 id="legend-title">Subcategories</h2>
        </div>
        <div id="canon-list" class="canon-list"></div>
      </section>
    </aside>

  </main>

  <!-- ‚ñº‚ñº‚ñº Detail Overlay (ÌÉÄÏùº ÌÅ¥Î¶≠ Ïãú Îú®Îäî Ï†ÑÏ≤¥ Î≥¥Í∏∞) ‚ñº‚ñº‚ñº -->
  <div id="detail-overlay" class="detail-overlay hidden" role="dialog" aria-modal="true" aria-label="Document detail">
    <div class="detail-card">
      <!-- Ï¢å: Ïù¥ÎØ∏ÏßÄ/Ï§å -->
      <div class="detail-media">
        <div class="media-main">
          <div id="page-indicator" class="page-indicator">1 / 1</div>
          <div class="media-viewport" id="media-viewport">
            <img id="detail-image" alt="" />
          </div>
        </div>
        <!-- üÜï Thumbnail Gallery -->
        <div class="media-thumbnails" id="media-thumbnails">
          <!-- Ïç∏ÎÑ§ÏùºÎì§Ïù¥ JSÎ°ú ÎèôÏ†Å ÏÉùÏÑ±Îê® -->
        </div>
      </div>

      <!-- Ïö∞: ÌÖçÏä§Ìä∏ -->
      <div class="detail-body">
        <div class="detail-topbar">
          <div class="detail-nav">
            <button id="detail-prev" class="btn-nav" aria-label="Previous document">‚Üê Previous</button>
            <button id="detail-next" class="btn-nav" aria-label="Next document">Next ‚Üí</button>
          </div>
          <button id="detail-close" class="btn-ghost" aria-label="Close">‚úï</button>
        </div>

        <h3 id="detail-title" class="detail-title">Untitled</h3>
        <div class="detail-meta" id="detail-year"></div>

        <!-- ÌïÑÎìúÎ≥Ñ ÏÑπÏÖò -->
        <div class="detail-fields">
          <div id="detail-people" class="field-section hidden">
            <h4>Associated Person</h4>
            <div id="detail-people-content"></div>
          </div>

          <div id="detail-collection" class="field-section hidden">
            <h4>Source / Collection</h4>
            <div id="detail-collection-content"></div>
          </div>

          <!-- Identifiers / Rights / Transcription sections removed per user request (kept in JS guards) -->
        </div>
        <!-- ÌÜ†ÌîΩ ÎØπÏä§ -->
        <div class="detail-bars">
          <h4>Topics mix</h4>
          <div id="detail-bars-wrap"></div>
        </div>

        <!-- Î©îÏù∏ ÏÑ§Î™Ö -->
        <div id="detail-desc" class="detail-desc"></div>

      </div>
    </div>
  </div>
  <!-- ‚ñ≤‚ñ≤‚ñ≤ Detail Overlay ‚ñ≤‚ñ≤‚ñ≤ -->

  <footer class="app-footer">
    <small>
      <b>Data Sources:</b> 
      <a href="https://huggingface.co/datasets/RevolutionCrossroads/si_us_revolutionary_era_collections" target="_blank" rel="noopener">Hugging Face Dataset</a> ‚Ä¢ 
      <a href="https://www.si.edu/openaccess/devtools" target="_blank" rel="noopener">Smithsonian Open Access API</a>
    </small>
  </footer>

  <script src="main.js"></script>
</body>
</html>
